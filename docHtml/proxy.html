
                        <!DOCTYPE html>
                        <html>
                            <head>
                                <meta charset="utf-8">
                                <title>ðŸ“šMasterportal Docs</title>
                                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
                            </head>
                            <body>
                            <blockquote>
<p><strong><a href="doc.html">back to Masterportal documentation</a></strong></p>
</blockquote>
<blockquote>
<p><strong><em><a href="https://www.gdi-de.org/en">GDI-DE</a> recommends setting CORS headers on the required services instead of using proxies.</em> Hence, the mechanism to request URLs via a proxy is <em>deprecated</em>. For additional information, please check <em><a href="https://www.gdi-de.org/SharedDocs/Downloads/DE/GDI-DE/Dokumente/Architektur_GDI-DE_Bereitstellung_Darstellungsdienste.pdf?__blob=publicationFile">chapter 4.7.1 of the GDI-DE documentation</a></em>.</strong></p>
</blockquote>
<h1>Proxy (<em>deprecated</em>)</h1>
<p>Various Masterportal functions send XHR requests to other domains, e.g. <code>WMS GetFeatureInfo</code> requests or calls to <code>WFS</code> and <code>CSW</code> services. These are restricted by the <strong><a href="https://en.wikipedia.org/wiki/Same-origin_policy">same-origin policy</a></strong> implemented in all browsers.</p>
<p>For this reason, the Masterportal requires local proxies on the server itâ€™s running on for all services that are requested via XHR from another domain. URLs for such requests are translated to local proxy URLs by default; here all dots (&quot;.&quot;) in the URLâ€™s hostname are replaced with underscores (&quot;_&quot;).</p>
<h2>Example</h2>
<p>Assuming a WMS serverâ€™s URL is <code>https://geodienste.hamburg.de/HH-WMS-Gruenes-Netz</code>, the Masterportal translates it to <code>/geodienste_hamburg_de/HH-WMS-Gruenes-Netz</code> and uses this local address for its request.</p>
<p>For this purpose a reverse proxy must be set up.</p>
<h2>Example for an Apache server</h2>
<p>An Apache server proxy for the previous example should hold the following directives:</p>
<pre><code class="language-apache">ProxyPass /geodienste_hamburg_de https://geodienste.hamburg.de
ProxyPassReverse /geodienste_hamburg_de https://geodienste.hamburg.de
</code></pre>
<p>These directives belong in the <code>Apache24\conf\httpd.conf</code> file and colloquially translate to</p>
<blockquote>
<p>Forward all requests to <strong>/geodienste_hamburg_de</strong> to <strong><a href="https://geodienste-hamburg.de">https://geodienste-hamburg.de</a></strong>, and return the answer as if from <strong>/geodienste_hamburg_de</strong>.</p>
</blockquote>

                            </body>
                        </html>