
                        <!DOCTYPE html>
                        <html>
                            <head>
                                <meta charset="utf-8">
                                <title>üìöMasterportal Docs</title>
                                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
                            </head>
                            <body>
                            <p>##Unit Tests der eines Backbone-Moduls##</p>
<p><strong>Beispiel:</strong>
<em>masterportal/test/unittests/ExampleTest/</em></p>
<p><strong>Aufruf</strong>:</p>
<p>npm run test</p>
<hr>
<p>##Wie man Tests schreibt:###</p>
<p>###Ort###
Im Projektverzeichnis <em>/test/unittests</em>.
In diesem Ordner ist ein Ordner names <em>modules</em>.
Hier wird die Struktur unter <em>masterportal/modules</em> repliziert.
D.h. Zu diesem <em>modules</em> Ordner sollte die Testdatei den gleichen relativen Pfad haben, wie die zu testende Datei zum <em>modules</em>-Ordner im Projektverzeichnis.</p>
<p>Beispiel:
soll die Datei <em>masterportal/modules/tools/download/model.js</em> getestet werden, dann geh√∂rt die Testdatei in <em>masterportal/test/modules/tools/download/model.test.js</em></p>
<p>Alle Tests zu einer Komponente z.b. einem Model sollen in eine Testdatei mit gleichem Namen und der Endung <em>test.js</em> abgelegt werden.</p>
<p>Eine Testdatei beschreibt dabei immer nur genau eine zu testende Datei.</p>
<p>Die Unittest werden beim pushen durch eine pre-push Hook gepr√ºft.</p>
<p>###Struktur###</p>
<p><strong>BeispielStruktur:</strong></p>
<pre><code>
import {expect} from &quot;chai&quot;;
import Model from &quot;./testModel.js&quot;;

    describe(&quot;testModul&quot;, function () {
        describe(&quot;getEmployeesByName&quot;, function () {
             before(function () {
                /* runs before the first it() is executed */
                console.log(&quot;before getEmployeesByName&quot;);
                model = new Model();
                model.setEmployees([{name: &quot;Robin&quot;, coffeeCount: 0}, {name: &quot;Jonas&quot;, coffeeCount: 1}]);
            });
             // type test using expect
            it(&quot;getEmployeesByName('Jonas') should return an array of length one&quot;, function () {
                expect(model.getEmployeesByName(&quot;Jonas&quot;)).to.be.a(&quot;array&quot;).with.lengthOf(1);
            });
            it(&quot;getEmployeesByName return an array containing &quot;, function () {
                expect(model.getEmployeesByName(&quot;Jonas&quot;)).to.deep.include({name: &quot;Jonas&quot;, coffeeCount: 1});
            });
        });

</code></pre>
<p><strong>Describe</strong> wird benutzt um einen Abschnitt Kenntlich zu machen.
Im Beispiel wird das √Ñu√üere <strong>describe</strong> benutzt, um zu beschreiben Welches Modul getestet wird.
Im Inneren <strong>describe</strong> wird die Funktion, die gerade getestet werden soll beschrieben.</p>
<p><strong>Syntax:</strong></p>
<pre><code>    describe(name, callback)
</code></pre>
<p><strong>It</strong> kapselt die einzelnen Testcases. Als erster Parameter wird ein Text √ºbergeben der Beschreibt welche Eigenschaft die zu testende Methode haben sollte.
Als zweiten Parameter wird eine Callback √ºbergeben, in der mit Hilfe eines <em>expect</em> (siehe unten) gepr√ºft wird, ob die Eingenschaft tats√§chlich besteht.</p>
<p><strong>Syntax:</strong></p>
<pre><code>    it(testcaseDescription, callback)
</code></pre>
<p><strong>before</strong> ist eine Funktion, die benutzt werden kann, um Vorbereitungen f√ºr eine Gruppe von Tests durchzuf√ºhren. Sie wird innerhalb einen <strong>describe</strong> genau <em>einmal</em> ausgef√ºhrt.</p>
<p><strong>beforeEach</strong> ist eine Funktion, die benutzt werden kann, um Vorbereitungen f√ºr einzelne Testf√§lle durchzuf√ºhren. Sie wird f√ºr <em>jedes</em> <strong>it</strong> in einem <strong>describe</strong> <em>einmal</em> durchgef√ºhrt.</p>
<p><a href="https://mochajs.org/">Mehr Infos</a></p>
<p>###Die Testcases###</p>
<p>Innerhalb eines <strong>it</strong> sollte ein <strong>expect</strong> stehen.</p>
<p><strong>expect</strong> kann genutzt werden, um eine oder mehrere Eigenschaften eines Objektes zu untersuchen.</p>
<p><strong>Syntax:</strong></p>
<pre><code> expect(model.testMe()).to.be.true;

 expect(model.testMe()).to.deep.equal({name: &quot;Jon Snow&quot;});
</code></pre>
<p><a href="https://chaijs.com/api/bdd/">Mehr Infos</a></p>
<p>###Best practices###</p>
<p>Ein Test sollte immer m√∂glichst nur aus genau <strong>einem Grund</strong> fehlschlagen.
D.h. pro <strong>It</strong> sollte m√∂glichst nur ein <strong>expect</strong> verwendet werden.</p>
<p>Tests sollten m√∂glichst <strong>simple</strong> sein. Lieber schnell zwei kleine Tests schreiben als ein kompliziertes Konstrukt das mehrere Sachen auf einmal abdeckt.</p>
<p>Man sollte sich √ºberlegen welche <strong>Corner-Cases</strong> man testen sollte.
D.h. Ungew√∂hnliche F√§lle testen, z.b. sehr hohe oder sehr geringe Eingaben oder unsinnige Eingaben, wie undefined oder ein Leerstring.</p>
<p>Positiv und <strong>negativ</strong> testen.
D.h. nicht nur testen, ob das erw√ºnschte Ergebnis produziert wird, sondern auch, dass keine Unerw√ºnschten Nebeneffekte auftreten.</p>

                            </body>
                        </html>